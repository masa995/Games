{"version":3,"sources":["dataPopup.js","popup.js","snake.js","ticTacToe.js","main.js"],"names":["dataRules","textRules","popup","document","querySelector","popupBody","popupClose","popupText","popupOpenBtns","querySelectorAll","mapRuls","name","ticTacToe","snake","addEventListener","e","classList","remove","target","closest","forEach","el","add","rulesNum","currentTarget","getAttribute","innerHTML","concat","Canvas","_classCallCheck","this","canvas","createCanvas","context","getContext","game","createElement","appendChild","Board","cell","mainEl","scoreEl","createScore","indentCell","score","window","matchMedia","matches","heightCanvas","clientHeight","widthCanvas","clientWidth","widthGame","roundCell","heightGame","setAttribute","rowGame","columnGame","barrier","levelEasy","levelHard","x","y","barrierMap","drawGameBoard","level","num","Math","round","fillStyle","fillRect","drawScore","drawBarrier","_this","textContent","Berry","board","radius","pi","PI","beginPath","arc","fill","closePath","getRandomInt","snakeTail","_this2","coordinats","elem","length","Snake","controlScreenKey","dx","dy","tails","maxTails","keyDirection","createScreenBtns","activeControlScreen","handleControl","bind","handleControlScreen","event","code","contains","insertAdjacentHTML","berry","animationStart","animationFps","animationSpeed","unshift","pop","crachSnake","eatSnake","_this3","index","i","deth","zeroScore","newPosition","_this4","updateScore","_this5","removeEventListener","Game","btnsMenu","activeMenuBtn","arguments","undefined","newGameBtn","selectorNewGame","restartBtn","selectorRestart","easyLevelBtn","selectorEasyLevel","hardLevelBtn","selectorHardLevel","btnMenu","selectorBtnMenu","listMenu","selectorListMenu","fps","startTime","currentTime","time","currentSecond","speed","gameLoopSnake","btns","_this6","removeAttribute","checkLevel","activeMenu","toggle","updateMap","requestAnimationFrame","Date","getTime","floor","clearRect","draw","update","min","max","random","isTouchDevice","TicTacToe","gameBoard","createElementBoard","winText","createElementText","origBoard","cells","keyLevel","huPlayer","aiPlayer","huSymbol","aiSymbol","winCombos","handleTurnClick","id","turn","checkTie","checkWin","BestSport","init","text","who","innerText","start","squareId","player","playerSymbol","getElementById","gameOver","_step","moves","playerMoves","_iterator","_createForOfIteratorHelper","s","n","done","value","every","indexOf","err","f","emptySquares","setTimeout","whoWinner","filter","results","BestSportEasy","BestSportHard","_step2","arr","_iterator2","win","includes","minimax","newBoard","emptySpots","bestMove","move","result","push","bestScore","Infinity"],"mappings":"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","file":"main.js","sourcesContent":["const dataRules = [\r\n  {\r\n    textRules: `<p>Крестки-нолики</p>\r\n                <p>Игроки по очереди ставят на свободные клетки поля символы (один всегда крестики, другой всегда нолики). Первый, выстроивший в ряд 3 символа по вертикали, горизонтали или диагонали, выигрывает. Первый ход делает игрок, ставящий крестики.</p>`\r\n  },\r\n\r\n  {\r\n    textRules: `<p>Змейка</p>\r\n                <p>Цель игры заключается в том, чтобы змейка съела как можно больше ягод. После каждой съеденной ягоды количество очков и размер змейки увеличивается.</p>\r\n                <p>Если змейка врежется в саму себя, то игра закончиться. На сложном уровне добавляются препятствия (серые кубы), с которыми змейка, также не должна сталкиваться.</p>\r\n                <p>Управление осуществляется стрелочками на клавиатуре.</p>`\r\n\r\n\r\n  }\r\n]","const popup = document.querySelector('.js-popup');\r\nconst popupBody = document.querySelector('.js-popup__body');\r\nconst popupClose = document.querySelector('.js-popup__close-btn');\r\nconst popupText = document.querySelector('.js-popup__text');\r\nconst popupOpenBtns = document.querySelectorAll('.js-btn-ruls');\r\n\r\nif (popup !== null) {\r\n  popupClose.addEventListener('click', (e) => {\r\n    popup.classList.remove('active');\r\n  });\r\n\r\n  popupBody.addEventListener('click', (e) => {\r\n    if (!e.target.closest('.js-popup__content')) {\r\n      popup.classList.remove('active');\r\n    }\r\n  })\r\n\r\n  popupOpenBtns.forEach((el) => {\r\n    el.addEventListener('click', (e) => {\r\n      popup.classList.add('active');\r\n      const rulesNum = mapRuls(e.currentTarget.getAttribute('data-ruls'));\r\n      const { textRules } = dataRules[rulesNum];\r\n      popupText.innerHTML = `${textRules}`;\r\n    });\r\n  });\r\n}\r\n\r\nfunction mapRuls(name) {\r\n  const gamesRules = {\r\n    ticTacToe: 0,\r\n    snake: 1\r\n  }\r\n  return gamesRules[name];\r\n}","'use strict'\r\nclass Canvas {\r\n  constructor() {\r\n    this.canvas = this.createCanvas();\r\n    this.context = this.canvas.getContext('2d');\r\n  }\r\n\r\n  createCanvas() {\r\n    const game = document.querySelector('.js-snake');\r\n    const canvas = document.createElement('canvas');\r\n    canvas.classList.add('snake__game', 'js-snake__game');\r\n    game.appendChild(canvas);\r\n    return canvas;\r\n  }\r\n}\r\n\r\nclass Board {\r\n  constructor(canvas, cell) {\r\n    this.mainEl = document.querySelector('.js-snake');\r\n    this.scoreEl = this.createScore();\r\n\r\n    this.cell = cell;\r\n    this.indentCell = 2;\r\n    this.score = 0;\r\n    this.context = canvas.context;\r\n    this.canvas = canvas.canvas;\r\n\r\n\r\n    if (window.matchMedia('(max-width: 450px)').matches) {\r\n      this.heightCanvas = this.mainEl.clientHeight - 330;\r\n      this.widthCanvas = this.mainEl.clientWidth - 100;\r\n    } else {\r\n      this.heightCanvas = this.mainEl.clientHeight - 300;\r\n      this.widthCanvas = this.mainEl.clientWidth / 2;\r\n    }\r\n\r\n    this.widthGame = this.roundCell(this.widthCanvas, this.cell);\r\n    this.heightGame = this.roundCell(this.heightCanvas, this.cell);\r\n    this.canvas.setAttribute('width', this.widthGame);\r\n    this.canvas.setAttribute('height', this.heightGame);\r\n\r\n    this.rowGame = this.widthGame / this.cell;\r\n    this.columnGame = this.heightGame / this.cell;\r\n\r\n    this.barrier = {\r\n      levelEasy: [],\r\n      levelHard: [\r\n        { x: 0, y: 0 },\r\n        { x: 0, y: this.cell },\r\n        { x: this.cell, y: 0 },\r\n        { x: this.cell, y: this.cell },\r\n        { x: 0, y: this.heightGame - this.cell },\r\n        { x: 0, y: this.heightGame - this.cell * 2 },\r\n        { x: this.cell, y: this.heightGame - this.cell },\r\n        { x: this.cell, y: this.heightGame - this.cell * 2 },\r\n        { x: this.widthGame - this.cell, y: this.heightGame - this.cell },\r\n        { x: this.widthGame - this.cell, y: this.heightGame - this.cell * 2 },\r\n        { x: this.widthGame - this.cell * 2, y: this.heightGame - this.cell },\r\n        { x: this.widthGame - this.cell * 2, y: this.heightGame - this.cell * 2 },\r\n        { x: this.widthGame - this.cell, y: 0 },\r\n        { x: this.widthGame - this.cell * 2, y: 0 },\r\n        { x: this.widthGame - this.cell, y: this.cell },\r\n        { x: this.widthGame - this.cell * 2, y: this.cell }\r\n      ]\r\n    }\r\n    this.barrierMap = this.barrier.levelEasy;\r\n\r\n    this.drawGameBoard();\r\n  }\r\n\r\n  createScore() {\r\n    const game = document.querySelector('.js-snake')\r\n    const score = document.createElement('p');\r\n    score.classList.add('snake__score-text', 'js-snake__score-text');\r\n    game.appendChild(score);\r\n    return score;\r\n  }\r\n\r\n  updateMap(level) {\r\n    this.barrierMap = level;\r\n  }\r\n\r\n  roundCell(num, cell) {\r\n    return Math.round(num / cell) * cell;\r\n  }\r\n\r\n  drawGameBoard() {\r\n    for (let y = 0; y < this.columnGame; y++) {\r\n      for (let x = 0; x < this.rowGame; x++) {\r\n        this.context.fillStyle = 'rgba(255, 255, 255, 0.4)';\r\n        this.context.fillRect(x * this.cell, y * this.cell, this.cell - this.indentCell, this.cell - this.indentCell);\r\n      }\r\n    }\r\n\r\n    this.drawScore(this.score);\r\n    this.drawBarrier();\r\n  }\r\n\r\n  drawBarrier() {\r\n    this.barrierMap.forEach((el) => {\r\n      this.context.fillStyle = '#333333';\r\n      this.context.fillRect(el.x, el.y, this.cell - this.indentCell, this.cell - this.indentCell);\r\n    });\r\n  }\r\n\r\n  drawScore() {\r\n    return this.scoreEl.textContent = `Счет: ${this.score}`;\r\n  }\r\n\r\n  zeroScore() {\r\n    this.score = 0;\r\n    return this.scoreEl.textContent = `Счет: 0`;\r\n  }\r\n\r\n  updateScore(num) {\r\n    this.score++;\r\n    this.drawScore();\r\n  }\r\n}\r\n\r\nclass Berry {\r\n  constructor(canvas, board) {\r\n    this.context = canvas.context;\r\n    this.cell = board.cell;\r\n    this.radius = this.cell / 3;\r\n    this.rowGame = board.rowGame;\r\n    this.columnGame = board.columnGame;\r\n    this.pi = Math.PI;\r\n    this.x;\r\n    this.y;\r\n  }\r\n\r\n  draw() {\r\n    this.context.beginPath();\r\n    this.context.fillStyle = \"#a66210\";\r\n    this.context.arc(this.x + (this.cell / 2), this.y + (this.cell / 2), this.radius, 0, this.pi * 2);\r\n    this.context.fill();\r\n    this.context.closePath();\r\n  }\r\n\r\n  coordinats() {\r\n    this.x = getRandomInt(0, this.rowGame) * this.cell;\r\n    this.y = getRandomInt(0, this.columnGame) * this.cell;\r\n  }\r\n\r\n  newPosition(snakeTail, barrierMap) {\r\n    this.coordinats();\r\n\r\n    snakeTail.forEach((elem) => {\r\n      if (elem.x === this.x && elem.y === this.y) {\r\n        this.coordinats();\r\n      }\r\n    });\r\n\r\n    if (barrierMap.length > 0) {\r\n      barrierMap.forEach((elem) => {\r\n        if (elem.x === this.x && elem.y === this.y) {\r\n          this.coordinats();\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nclass Snake {\r\n  constructor(canvas, board, controlScreenKey) {\r\n    this.context = canvas.context;\r\n    this.cell = board.cell;\r\n    this.indentCell = board.indentCell;\r\n    this.heightGame = board.heightGame;\r\n    this.x = 0;\r\n    this.y = this.cell * 3;\r\n    this.dx = this.cell\r\n    this.dy = 0;\r\n    this.tails = [{ x: 0, y: this.cell * 3 }];\r\n    this.maxTails = 3;\r\n    this.keyDirection = null;\r\n    this.controlScreenKey = controlScreenKey;\r\n\r\n    this.createScreenBtns();\r\n    this.activeControlScreen(this.activeControlScreen);\r\n    this.handleControl = this.handleControl.bind(this);\r\n    this.handleControlScreen = this.handleControlScreen.bind(this);\r\n  }\r\n\r\n  handleControl(event) {\r\n    if (event.code === 'ArrowUp') {\r\n      if (this.keyDirection === null || this.keyDirection !== 'down') {\r\n        this.dx = 0;\r\n        this.dy = -this.cell;\r\n        this.keyDirection = 'up';\r\n      }\r\n    }\r\n\r\n    if (event.code === 'ArrowDown') {\r\n      if (this.keyDirection === null || this.keyDirection !== 'up') {\r\n        this.dx = 0;\r\n        this.dy = this.cell;\r\n        this.keyDirection = 'down';\r\n      }\r\n    }\r\n\r\n    if (event.code === 'ArrowLeft') {\r\n      if (this.keyDirection === null || this.keyDirection !== 'right') {\r\n        this.dx = -this.cell;\r\n        this.dy = 0;\r\n        this.keyDirection = 'left';\r\n      }\r\n    }\r\n\r\n    if (event.code === 'ArrowRight') {\r\n      if (this.keyDirection === null || this.keyDirection !== 'left') {\r\n        this.dx = this.cell;\r\n        this.dy = 0;\r\n        this.keyDirection = 'right';\r\n      }\r\n    }\r\n  }\r\n\r\n  handleControlScreen(event) {\r\n    if (event.target.classList.contains('js-btn__up')) {\r\n      if (this.keyDirection === null || this.keyDirection !== 'down') {\r\n        this.dx = 0;\r\n        this.dy = -this.cell;\r\n        this.keyDirection = 'up';\r\n      }\r\n    }\r\n\r\n    if (event.target.classList.contains('js-btn__down')) {\r\n      if (this.keyDirection === null || this.keyDirection !== 'up') {\r\n        this.dx = 0;\r\n        this.dy = this.cell;\r\n        this.keyDirection = 'down';\r\n      }\r\n    }\r\n\r\n    if (event.target.classList.contains('js-btn__left')) {\r\n      if (this.keyDirection === null || this.keyDirection !== 'right') {\r\n        this.dx = -this.cell;\r\n        this.dy = 0;\r\n        this.keyDirection = 'left';\r\n      }\r\n    }\r\n\r\n    if (event.target.classList.contains('js-btn__right')) {\r\n      if (this.keyDirection === null || this.keyDirection !== 'left') {\r\n        this.dx = this.cell;\r\n        this.dy = 0;\r\n        this.keyDirection = 'right';\r\n      }\r\n    }\r\n  }\r\n\r\n  createScreenBtns() {\r\n    const mainEl = document.querySelector('.js-snake');\r\n    mainEl.insertAdjacentHTML(\r\n      'beforeend',\r\n      `<div class=\"snake__box-left snake-box js-snake-box\">\r\n        <button class=\"snake__control-btn js-btn__left\">&#9668;</button>\r\n        \r\n      </div>\r\n\r\n      <div class=\"snake__box-center snake-box js-snake-box\">\r\n        <button class=\"snake__control-btn js-btn__up\">&#9650;</button>\r\n        <button class=\"snake__control-btn js-btn__down\">&#9660;</button>\r\n      </div>\r\n      \r\n      <div class=\"snake__box-right snake-box js-snake-box\">\r\n      <button class=\"snake__control-btn js-btn__right\">&#9658;</button>\r\n      </div>`);\r\n  }\r\n\r\n  activeControlScreen(controlScreenKey) {\r\n    if (this.controlScreenKey) {\r\n      const boxControlEls = document.querySelectorAll('.snake-box');\r\n      boxControlEls.forEach((el) => {\r\n        el.classList.add('active');\r\n      });\r\n    }\r\n  }\r\n\r\n  update(berry, board, animationStart, animationFps, animationSpeed) {\r\n    this.x += this.dx;\r\n    this.y += this.dy;\r\n\r\n    //Collision Border\r\n    if (this.x < 0) {\r\n      this.x = board.widthGame - this.cell;\r\n    } else if (this.x >= board.widthGame) {\r\n      this.x = 0;\r\n    }\r\n\r\n    if (this.y < 0) {\r\n      this.y = board.heightGame - this.cell;\r\n    } else if (this.y >= board.heightGame) {\r\n      this.y = 0;\r\n    }\r\n\r\n    this.tails.unshift({ x: this.x, y: this.y });\r\n\r\n    if (this.tails.length > this.maxTails) {\r\n      this.tails.pop();\r\n    }\r\n\r\n    this.crachSnake(berry, board, animationStart, animationFps);\r\n    this.eatSnake(berry, board, animationSpeed);\r\n  }\r\n\r\n  crachSnake(berry, board, animationStart, animationFps) {\r\n    this.tails.forEach((el, index) => {\r\n      for (let i = index + 1; i < this.tails.length; i++) {\r\n        if (el.x === this.tails[i].x && el.y === this.tails[i].y) {\r\n          this.deth(animationStart, animationFps);\r\n          board.zeroScore();\r\n          berry.newPosition(this.tails, board.barrierMap)\r\n        }\r\n      }\r\n    });\r\n\r\n    board.barrierMap.forEach((el) => {\r\n      if (el.x === this.tails[0].x && el.y === this.tails[0].y) {\r\n        this.deth(animationStart, animationFps);\r\n        board.zeroScore();\r\n        berry.newPosition(this.tails, board.barrierMap);\r\n      }\r\n    });\r\n  }\r\n\r\n  eatSnake(berry, board, animationSpeed) {\r\n    this.tails.forEach((el) => {\r\n      if (el.x === berry.x && el.y === berry.y) {\r\n        this.maxTails++;\r\n        board.updateScore();\r\n        berry.newPosition(this.tails, board.barrierMap);\r\n\r\n        animationSpeed = animationSpeed + 0.7;\r\n      }\r\n    });\r\n  }\r\n\r\n  draw() {\r\n    this.tails.forEach((el, index) => {\r\n      if (index == 0) {\r\n        this.context.fillStyle = '#333333';\r\n      } else {\r\n        this.context.fillStyle = '#555555';\r\n      }\r\n\r\n      this.context.fillRect(el.x, el.y, this.cell - this.indentCell, this.cell - this.indentCell);\r\n    });\r\n  }\r\n\r\n  deth(animationStart, animationFps) {\r\n    this.x = 0;\r\n    this.y = this.cell * 3;\r\n    this.dx = this.cell;\r\n    this.dy = 0;\r\n    this.tails = [{ x: 0, y: this.cell * 3 }];\r\n    this.maxTails = 3;\r\n    this.keyDirection = null;\r\n    animationStart = 0;\r\n    animationFps = 300;\r\n\r\n    document.removeEventListener('click', this.handleControlScreen);\r\n    document.removeEventListener('keydown', this.handleControl);\r\n  }\r\n}\r\n\r\nclass Game {\r\n  constructor(btnsMenu, activeMenuBtn, cell, controlScreenKey = false) {\r\n    this.newGameBtn = document.querySelector(btnsMenu.selectorNewGame);\r\n    this.restartBtn = document.querySelector(btnsMenu.selectorRestart);\r\n    this.easyLevelBtn = document.querySelector(btnsMenu.selectorEasyLevel);\r\n    this.hardLevelBtn = document.querySelector(btnsMenu.selectorHardLevel);\r\n    this.btnMenu = document.querySelector(activeMenuBtn.selectorBtnMenu);\r\n    this.listMenu = document.querySelector(activeMenuBtn.selectorListMenu);\r\n    this.fps = 300;\r\n    this.startTime = 0;\r\n    this.currentTime = 0;\r\n    this.time = 0;\r\n    this.currentSecond = 0\r\n    this.speed = 0;\r\n    this.cell = cell;\r\n    this.controlScreenKey = controlScreenKey;\r\n\r\n    this.canvas = new Canvas();\r\n    this.board = new Board(this.canvas, this.cell);\r\n    this.berry = new Berry(this.canvas, this.board);\r\n    this.snake = new Snake(this.canvas, this.board, this.controlScreenKey);\r\n\r\n    this.gameLoopSnake = this.gameLoopSnake.bind(this);\r\n    this.gameLoopSnake();\r\n    this.btns();\r\n\r\n    this.berry.newPosition(this.snake.tails, this.board.barrierMap);\r\n  }\r\n\r\n  btns() {\r\n    this.newGameBtn.addEventListener('click', () => {\r\n      this.easyLevelBtn.removeAttribute('disabled');\r\n      this.hardLevelBtn.removeAttribute('disabled');\r\n      this.newGameBtn.setAttribute('disabled', 'disabled');\r\n      this.restartBtn.setAttribute('disabled', 'disabled');\r\n    });\r\n\r\n    this.easyLevelBtn.addEventListener('click', () => {\r\n      this.checkLevel(this.board.barrier.levelEasy);\r\n\r\n      if (this.controlScreenKey) {\r\n        document.addEventListener('click', this.snake.handleControlScreen);\r\n      } else {\r\n        document.addEventListener('keydown', this.snake.handleControl);\r\n      }\r\n      this.activeMenu();\r\n    });\r\n\r\n    this.hardLevelBtn.addEventListener('click', () => {\r\n      this.checkLevel(this.board.barrier.levelHard);\r\n\r\n      if (this.controlScreenKey) {\r\n        document.addEventListener('click', this.snake.handleControlScreen);\r\n      } else {\r\n        document.addEventListener('keydown', this.snake.handleControl);\r\n      }\r\n      this.activeMenu();\r\n    });\r\n\r\n    this.restartBtn.addEventListener('click', () => {\r\n      //Refresh Game\r\n      this.snake.deth(this.startTime, this.fps);\r\n      this.board.zeroScore();\r\n      this.berry.newPosition(this.snake.tails, this.board.barrierMap)\r\n\r\n      if (this.controlScreenKey) {\r\n        document.addEventListener('click', this.snake.handleControlScreen);\r\n      } else {\r\n        document.addEventListener('keydown', this.snake.handleControl);\r\n      }\r\n      this.activeMenu();\r\n    });\r\n  }\r\n\r\n  activeMenu() {\r\n    btnMenu.classList.toggle('active');\r\n    listMenu.classList.toggle('active');\r\n  }\r\n\r\n  checkLevel(level) {\r\n    this.board.updateMap(level);\r\n    this.snake.deth(this.startTime, this.fps);\r\n    this.board.zeroScore();\r\n    this.berry.newPosition(this.snake.tails, this.board.barrierMap)\r\n\r\n    this.restartBtn.removeAttribute('disabled');\r\n    this.newGameBtn.removeAttribute('disabled');\r\n    this.easyLevelBtn.setAttribute('disabled', 'disabled');\r\n    this.hardLevelBtn.setAttribute('disabled', 'disabled');\r\n  }\r\n\r\n\r\n\r\n  gameLoopSnake() {\r\n    requestAnimationFrame(this.gameLoopSnake);\r\n\r\n    if (this.startTime === 0) {\r\n      this.startTime = new Date().getTime();\r\n    }\r\n\r\n    this.currentTime = new Date().getTime();\r\n    this.time = this.currentTime - this.startTime;\r\n    this.currentSecond = Math.floor(this.time / (this.fps - this.speed));\r\n\r\n    if (this.currentSecond > 0) {\r\n      this.startTime = 0;\r\n\r\n      this.canvas.context.clearRect(0, 0, this.board.widthGame, this.board.heightGame);\r\n\r\n      this.board.drawGameBoard();\r\n      this.berry.draw();\r\n      this.snake.draw();\r\n      this.snake.update(this.berry, this.board, this.startTime, this.fps, this.speed);\r\n    }\r\n  }\r\n}\r\n\r\nconst game = document.querySelector('.js-snake');\r\nconst btnsMenu = {\r\n  selectorNewGame: '.js-snake__new-game',\r\n  selectorRestart: '.js-snake__restart',\r\n  selectorEasyLevel: '.js-snake__easy-level',\r\n  selectorHardLevel: '.js-snake__hard-level'\r\n}\r\n\r\nconst activeMenuBtn = {\r\n  selectorBtnMenu: '.js-btns-menu__icon',\r\n  selectorListMenu: '.js-btns-menu__list'\r\n}\r\n\r\nif (game !== null) {\r\n  if (window.matchMedia('(min-width: 1101px)').matches && isTouchDevice()) {\r\n    new Game(btnsMenu, activeMenuBtn, 25, true);\r\n  } else if (window.matchMedia('(max-width: 1100px)').matches) {\r\n    new Game(btnsMenu, activeMenuBtn, 20, true);\r\n  } else if (window.matchMedia('(max-width: 450px)').matches) {\r\n    new Game(btnsMenu, activeMenuBtn, 15, true);\r\n  } else {\r\n    new Game(btnsMenu, activeMenuBtn, 25, false);\r\n  }\r\n}\r\n\r\nfunction getRandomInt(min, max) {\r\n  return Math.floor(Math.random() * (max - min) + min);\r\n}","'use strict'\r\nclass TicTacToe {\r\n  constructor(btnsMenu, activeMenuBtn) {\r\n    this.gameBoard = this.createElementBoard();\r\n    this.winText = this.createElementText();\r\n\r\n    this.newGameBtn = document.querySelector(btnsMenu.selectorNewGame);\r\n    this.restartBtn = document.querySelector(btnsMenu.selectorRestart);\r\n    this.easyLevelBtn = document.querySelector(btnsMenu.selectorEasyLevel);\r\n    this.hardLevelBtn = document.querySelector(btnsMenu.selectorHardLevel);\r\n    this.btnMenu = document.querySelector(activeMenuBtn.selectorBtnMenu);\r\n    this.listMenu = document.querySelector(activeMenuBtn.selectorListMenu);\r\n\r\n    this.origBoard;\r\n    this.cells;\r\n    this.keyLevel = 'easy';\r\n\r\n    this.huPlayer = 'X';\r\n    this.aiPlayer = 'O';\r\n\r\n    this.huSymbol = `<svg class=\"cross\">\r\n    <line class=\"cross-first\" x1=\"10\" y1=\"10\" x2=\"70\" y2=\"70\" stroke=\"#333\" stroke-width=\"10\" stroke-linecap=\"round\" />\r\n    <line class=\"cross-second\" x1=\"70\" y1=\"10\" x2=\"10\" y2=\"70\" stroke=\"#333\" stroke-width=\"10\" stroke-linecap=\"round\" />\r\n    </svg>`;\r\n    this.aiSymbol = `<svg class=\"circle\">\r\n    <circle r=\"30\" cx=\"40\" cy=\"40\" stroke=\"#c15746\" stroke-width=\"10\" fill=\"none\" stroke-linecap=\"round\" />\r\n    </svg>`;\r\n\r\n    this.winCombos = [\r\n      [0, 1, 2],\r\n      [3, 4, 5],\r\n      [6, 7, 8],\r\n      [0, 3, 6],\r\n      [1, 4, 7],\r\n      [2, 5, 8],\r\n      [0, 4, 8],\r\n      [6, 4, 2]\r\n    ];\r\n\r\n    this.handleTurnClick = (event) => {\r\n      if (typeof this.origBoard[event.target.id] == 'number') {\r\n        this.turn(event.target.id, this.huPlayer, this.huSymbol);\r\n\r\n        if ((!this.checkTie()) && (!this.checkWin(this.origBoard, this.huPlayer))) {\r\n          this.turn(this.BestSport(), this.aiPlayer, this.aiSymbol);\r\n        }\r\n      }\r\n    };\r\n\r\n    this.init();\r\n  }\r\n\r\n  createElementBoard() {\r\n    const game = document.querySelector('.js-tic-tac-toe');\r\n    const board = document.createElement('div');\r\n    board.classList.add('tic-tac-toe__game', 'js-tic-tac-toe__game');\r\n    game.appendChild(board);\r\n    return board;\r\n  }\r\n\r\n  createElementText() {\r\n    const game = document.querySelector('.js-tic-tac-toe');\r\n    const text = document.createElement('p');\r\n    text.classList.add('tic-tac-toe__win-text', 'js-tic-tac-toe__win-text');\r\n    game.appendChild(text);\r\n    return text;\r\n  }\r\n\r\n  whoWinner(who) {\r\n    this.winText.innerText = who;\r\n  }\r\n\r\n  init() {\r\n    for (let i = 0; i < 9; i++) {\r\n      const cell = document.createElement('div');\r\n      cell.setAttribute('id', i);\r\n      cell.classList.add('tic-tac-toe__cell');\r\n      this.gameBoard.appendChild(cell);\r\n    }\r\n    this.cells = document.querySelectorAll('.tic-tac-toe__cell');\r\n\r\n    this.newGameBtn.addEventListener('click', () => {\r\n      this.easyLevelBtn.removeAttribute('disabled');\r\n      this.hardLevelBtn.removeAttribute('disabled');\r\n      this.newGameBtn.setAttribute('disabled', 'disabled');\r\n      this.restartBtn.setAttribute('disabled', 'disabled');\r\n    });\r\n\r\n    this.easyLevelBtn.addEventListener('click', () => {\r\n      this.checkLevel('easy');\r\n      this.activeMenu();\r\n    });\r\n\r\n    this.hardLevelBtn.addEventListener('click', () => {\r\n      this.checkLevel('hard');\r\n      this.activeMenu();\r\n    });\r\n\r\n    this.restartBtn.addEventListener('click', () => {\r\n      this.start();\r\n      this.activeMenu();\r\n    });\r\n  }\r\n\r\n  activeMenu() {\r\n    btnMenu.classList.toggle('active');\r\n    listMenu.classList.toggle('active');\r\n  }\r\n\r\n  checkLevel(level) {\r\n    this.keyLevel = level;\r\n    this.start();\r\n    this.restartBtn.removeAttribute('disabled');\r\n    this.newGameBtn.removeAttribute('disabled');\r\n    this.easyLevelBtn.setAttribute('disabled', 'disabled');\r\n    this.hardLevelBtn.setAttribute('disabled', 'disabled');\r\n  }\r\n\r\n  start() {\r\n    this.origBoard = [0, 1, 2, 3, 4, 5, 6, 7, 8];\r\n    for (let i = 0; i < this.cells.length; i++) {\r\n      this.cells[i].innerHTML = '';\r\n      this.cells[i].classList.add('pointer');\r\n      this.cells[i].addEventListener('click', this.handleTurnClick)\r\n\r\n      this.winText.innerText = '';\r\n    }\r\n  }\r\n\r\n  turn(squareId, player, playerSymbol) {\r\n    this.origBoard[squareId] = player;\r\n    document.getElementById(squareId).innerHTML = playerSymbol;\r\n    this.cells[squareId].removeEventListener('click', this.handleTurnClick);\r\n    this.cells[squareId].classList.remove('pointer');\r\n\r\n    let gameWon = this.checkWin(this.origBoard, player);\r\n    if (gameWon) {\r\n      this.gameOver(player);\r\n    }\r\n  }\r\n\r\n  checkWin(board, player) {\r\n    let moves = this.playerMoves(board, player);\r\n\r\n    for (let win of this.winCombos) {\r\n      if (win.every((elem) => moves.indexOf(elem) !== -1)) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  checkTie() {\r\n    if (this.emptySquares().length == 0) {\r\n      for (let i = 0; i < this.cells.length; i++) {\r\n        this.cells[i].removeEventListener('click', this.handleTurnClick);\r\n      }\r\n      setTimeout(() => this.whoWinner('Ничья'), 1200);\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  gameOver(player) {\r\n    for (let i = 0; i < this.cells.length; i++) {\r\n      this.cells[i].removeEventListener('click', this.handleTurnClick);\r\n      this.cells[i].classList.remove('pointer');\r\n    }\r\n\r\n    setTimeout(() => this.whoWinner(player === this.huPlayer ? 'Вы победили' : 'Вы проиграли'), 1200);\r\n  }\r\n\r\n\r\n  emptySquares() {\r\n    return this.origBoard.filter((cell) => typeof cell == 'number');\r\n  }\r\n\r\n  playerMoves(board, player) {\r\n    let results = [];\r\n\r\n    for (let i = 0; i < board.length; i++) {\r\n      const e = board[i];\r\n      if (e === player) {\r\n        results = results.concat(i);\r\n      }\r\n    }\r\n    return results;\r\n  }\r\n\r\n  BestSport() {\r\n    if (this.keyLevel === 'easy') {\r\n      return this.BestSportEasy();\r\n    }\r\n    else if (this.keyLevel === 'hard') {\r\n      return this.BestSportHard();\r\n    }\r\n  }\r\n\r\n  BestSportEasy() {\r\n    let arr = this.emptySquares();\r\n    let moves = this.playerMoves(this.origBoard, this.huPlayer);\r\n\r\n    for (let win of this.winCombos) {\r\n      if ((moves.includes(win[0])) && (moves.includes(win[1]))) {\r\n        if (arr.includes(win[2])) {\r\n          return win[2];\r\n        }\r\n      } else if ((moves.includes(win[0])) && (moves.includes(win[2]))) {\r\n        if (arr.includes(win[3])) {\r\n          return win[1];\r\n        }\r\n      } else if ((moves.includes(win[1])) && (moves.includes(win[2]))) {\r\n        if (arr.includes(win[0])) {\r\n          return win[0];\r\n        }\r\n      }\r\n    }\r\n\r\n    let index = Math.floor(Math.random() * arr.length);\r\n    return arr[index];\r\n  }\r\n\r\n  BestSportHard() {\r\n    let arr = this.minimax(this.origBoard, this.aiPlayer);\r\n    return arr.index;\r\n  }\r\n\r\n  minimax(newBoard, player) {\r\n    let emptySpots = this.emptySquares();\r\n\r\n    if (this.checkWin(newBoard, this.huPlayer)) {\r\n      return { score: -10 };\r\n    } else if (this.checkWin(newBoard, this.aiPlayer)) {\r\n      return { score: 10 };\r\n    } else if (emptySpots.length === 0) {\r\n      return { score: 0 };\r\n    }\r\n    let moves = [];\r\n\r\n    for (let i = 0; i < emptySpots.length; i++) {\r\n      let move = {};\r\n\r\n      move.index = newBoard[emptySpots[i]];\r\n      newBoard[emptySpots[i]] = player;\r\n\r\n      if (player == this.aiPlayer) {\r\n        let result = this.minimax(newBoard, this.huPlayer);\r\n        move.score = result.score;\r\n      } else {\r\n        let result = this.minimax(newBoard, this.aiPlayer);\r\n        move.score = result.score;\r\n      }\r\n\r\n      newBoard[emptySpots[i]] = move.index;\r\n      moves.push(move);\r\n    }\r\n\r\n    let bestMove;\r\n\r\n    if (player === this.aiPlayer) {\r\n      let bestScore = -Infinity;\r\n      for (let i = 0; i < moves.length; i++) {\r\n        if (moves[i].score > bestScore) {\r\n          bestScore = moves[i].score;\r\n          bestMove = i;\r\n        }\r\n      }\r\n    } else {\r\n      let bestScore = Infinity;\r\n      for (let i = 0; i < moves.length; i++) {\r\n        if (moves[i].score < bestScore) {\r\n          bestScore = moves[i].score;\r\n          bestMove = i;\r\n        }\r\n      }\r\n    }\r\n    return moves[bestMove];\r\n  }\r\n}\r\n\r\nconst game = document.querySelector('.tic-tac-toe');\r\nconst btnsMenu = {\r\n  selectorNewGame: '.js-tic-tac-toe__new-game',\r\n  selectorRestart: '.js-tic-tac-toe__restart',\r\n  selectorEasyLevel: '.js-tic-tac-toe__easy-level',\r\n  selectorHardLevel: '.js-tic-tac-toe__hard-level'\r\n}\r\n\r\nconst activeMenuBtn = {\r\n  selectorBtnMenu: '.js-btns-menu__icon',\r\n  selectorListMenu: '.js-btns-menu__list'\r\n}\r\n\r\nif (game !== null) {\r\n  new TicTacToe(btnsMenu, activeMenuBtn);\r\n}\r\n","const btnMenu = document.querySelector('.js-btns-menu__icon');\r\nconst listMenu = document.querySelector('.js-btns-menu__list');\r\n\r\nbtnMenu.addEventListener('click', () => {\r\n  btnMenu.classList.toggle('active');\r\n  listMenu.classList.toggle('active');\r\n});\r\n\r\nfunction isTouchDevice(e) {\r\n  return typeof window.ontouchstart !== 'undefined';\r\n}\r\n"]}